{{ template "htmlbegin" . }}

<div class="ui middle aligned center aligned grid">
  <div class="column">

    {{ template "providerheader" . }}

    <div class="ui divider hidden"></div>

    <form class="ui large form" action="/recoververification" method="post">
      {{ .csrfField }}
      <input name="id" type="hidden" value="{{ .id }}" required>

      <div class="ui left aligned segment totp">

      <div class="ui tiny fluid vertical steps">
        <div class="step">
          <i class="lock icon"></i>
          <div class="content">
            <div class="title">Change Password</div>
            <div class="description">Enter a new password</div>
          </div>
        </div>
      </div>

      </div>

      {{if .errorPassword}}
        <div class="required field {{if .errorPassword}}error{{end}}">
          <div class="ui right labeled left icon input focus">
            <i class="lock icon"></i>
            <input type="password" name="password" autocomplete="new-password" placeholder="Password" required />
            <div class="ui red tag label">
              {{ .errorPassword }}
            </div>
          </div>
        </div>
      {{else}}
        <div class="required field">
          <div class="ui left icon input focus">
            <i class="lock icon"></i>
            <input type="password" name="password" autocomplete="new-password" placeholder="Password" required />
          </div>
        </div>
      {{end}}

      {{if .errorPasswordRetyped}}
        <div class="required field {{if .errorPasswordRetyped}}error{{end}}">
          <div class="ui right labeled left icon input focus">
            <i class="lock icon"></i>
            <input type="password" name="password_retyped" autocomplete="new-password" placeholder="Password retyped" required />
            <div class="ui red tag label">
              {{ .errorPasswordRetyped }}
            </div>
          </div>
        </div>
      {{else}}
        <div class="required field">
          <div class="ui left icon input focus">
            <i class="lock icon"></i>
            <input type="password" name="password_retyped" autocomplete="new-password" placeholder="Password retyped" required />
          </div>
        </div>
      {{end}}

      <div class="ui left aligned segment totp">

      <div class="ui tiny fluid vertical steps">
        <div class="step">
          <i class="mail icon"></i>
          <div class="content">
            <div class="title">Verify Recover</div>
            <div class="description">Enter the verification code sent to your email</div>
          </div>
        </div>
      </div>

      </div>

      {{if .errorVerificationCode}}
        <div class="required field {{if .errorVerificationCode}}error{{end}}">
          <div class="ui right labeled left icon input focus">
            <i class="lock icon"></i>
            <input name="verification_code" type="password" placeholder="Code" required>
            <div class="ui red tag label">
              {{ .errorVerificationCode }}
            </div>
          </div>
        </div>
      {{else}}
        <div class="required field">
          <div class="ui left icon input focus">
            <i class="lock icon"></i>
            <input name="verification_code" type="password" placeholder="Code" required>
          </div>
        </div>
      {{end}}

      <input type="submit" name="submit" class="ui fluid large green submit button" value="Verify and Change Password" />

    </form>

    <div class="ui divider hidden"></div>

    <div class="white">Id: {{ .id }}</div>

  </div>
</div>

{{ template "htmlend" . }}

